
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="High-performance Python library for Forest Inventory and Analysis (FIA) data">
      
      
        <meta name="author" content="PyFIA Contributors">
      
      
        <link rel="canonical" href="https://mihiarc.github.io/pyfia/queries/evaluator_methodology/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>EVALIDator Methodology Guide - PyFIA Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#evalidator-methodology-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyFIA Documentation" class="md-header__button md-logo" aria-label="PyFIA Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyFIA Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              EVALIDator Methodology Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mihiarc/pyfia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mihiarc/pyfia
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../examples/" class="md-tabs__link">
        
  
  
    
  
  Examples

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../DEVELOPMENT/" class="md-tabs__link">
          
  
  
    
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../fia_technical_context/" class="md-tabs__link">
          
  
  
    
  
  FIA Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyFIA Documentation" class="md-nav__button md-logo" aria-label="PyFIA Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PyFIA Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mihiarc/pyfia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mihiarc/pyfia
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/downloading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Downloading Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/grouping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grouping Results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/spatial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spatial Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../variance_calculation_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variance Estimation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lazy_evaluation_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lazy Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/fia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FIA Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/data_reader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Reader
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Estimation Functions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Estimation Functions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/area/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Area
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/area_change/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Area Change
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/volume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Volume
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/tpa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trees Per Acre
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/biomass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Biomass
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/mortality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mortality
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/growth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Growth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/removals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Removals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/reference_tables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference Tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/evalidator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    EVALIDator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/downloader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Download
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/conversion.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Conversion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DEVELOPMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ARCHITECTURE_DIAGRAMS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    FIA Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    FIA Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fia_technical_context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìã Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-evalidator" class="md-nav__link">
    <span class="md-ellipsis">
      
        üéØ What is EVALIDator?
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üéØ What is EVALIDator?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-characteristics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Characteristics:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-translate-to-duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Translate to DuckDB?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-statistical-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìä Core Statistical Concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üìä Core Statistical Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#evalid-evaluation-id" class="md-nav__link">
    <span class="md-ellipsis">
      
        EVALID (Evaluation ID)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#population-strata-and-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Population Strata and Expansion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adjustment-factors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adjustment Factors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oracle-to-duckdb-translation" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Oracle to DuckDB Translation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Oracle to DuckDB Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Function Mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-type-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Type Considerations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-formatting-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        String Formatting Differences
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-table-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîó Key Table Relationships
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîó Key Table Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-inventory-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Inventory Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#growth-removal-mortality-grm-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Growth, Removal, Mortality (GRM) Tables
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adjustment-factors-and-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚öñÔ∏è Adjustment Factors and Expansion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚öñÔ∏è Adjustment Factors and Expansion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-tree-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Tree Expansion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#area-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Area Expansion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grm-specific-expansion" class="md-nav__link">
    <span class="md-ellipsis">
      
        GRM-Specific Expansion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-categories-and-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìÇ Query Categories and Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üìÇ Query Categories and Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-basic-tree-counts" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Basic Tree Counts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-biomass-calculations" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Biomass Calculations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-grm-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. GRM Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-volume-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Volume Analysis
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-translation-challenges" class="md-nav__link">
    <span class="md-ellipsis">
      
        üöß Common Translation Challenges
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üöß Common Translation Challenges">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-string-formatting-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. String Formatting Complexity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-implicit-type-conversions" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Implicit Type Conversions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-null-handling-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. NULL Handling Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-complex-nested-case-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Complex Nested CASE Logic
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚úÖ Validation and Testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚úÖ Validation and Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-result-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Result Comparison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sample-size-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Sample Size Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cross-validation-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Cross-Validation Techniques
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-reasonableness-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Reasonableness Checks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        üéØ Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üéØ Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-maintain-statistical-integrity" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Maintain Statistical Integrity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-simplify-when-possible" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Simplify When Possible
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-documentation-standards" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Documentation Standards
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Error Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Performance Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîç Advanced Topics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîç Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special-species-mappings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Special Species Mappings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#biomass-equation-complexity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Biomass Equation Complexity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grm-component-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        GRM Component Logic
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources-and-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìö Resources and References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üìö Resources and References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#official-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Official Documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-sources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Sources
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        Technical References
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="evalidator-methodology-guide">EVALIDator Methodology Guide<a class="headerlink" href="#evalidator-methodology-guide" title="Permanent link">&para;</a></h1>
<p>This guide provides comprehensive documentation for understanding and translating Oracle EVALIDator queries to DuckDB, maintaining statistical accuracy while leveraging modern SQL capabilities.</p>
<h2 id="table-of-contents">üìã Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#-what-is-evaluator">What is EVALIDator?</a></li>
<li><a href="#core-statistical-concepts">Core Statistical Concepts</a></li>
<li><a href="#oracle-to-duckdb-translation">Oracle to DuckDB Translation</a></li>
<li><a href="#key-table-relationships">Key Table Relationships</a></li>
<li><a href="#adjustment-factors-and-expansion">Adjustment Factors and Expansion</a></li>
<li><a href="#query-categories-and-patterns">Query Categories and Patterns</a></li>
<li><a href="#common-translation-challenges">Common Translation Challenges</a></li>
<li><a href="#validation-and-testing">Validation and Testing</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ol>
<h2 id="what-is-evalidator">üéØ What is EVALIDator?<a class="headerlink" href="#what-is-evalidator" title="Permanent link">&para;</a></h2>
<p><strong>EVALIDator</strong> is the USDA Forest Service's official web application for accessing Forest Inventory and Analysis (FIA) data. It provides standardized queries that produce statistically valid estimates following rigorous sampling methodology.</p>
<h3 id="key-characteristics">Key Characteristics:<a class="headerlink" href="#key-characteristics" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Statistical Rigor</strong>: Uses proper sampling weights and adjustment factors</li>
<li><strong>Oracle-Based</strong>: Original queries written for Oracle database</li>
<li><strong>Standardized</strong>: Consistent methodology across all analyses</li>
<li><strong>Validated</strong>: Results match published FIA reports</li>
<li><strong>Complex</strong>: Sophisticated statistical calculations and table joins</li>
</ul>
<h3 id="why-translate-to-duckdb">Why Translate to DuckDB?<a class="headerlink" href="#why-translate-to-duckdb" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Performance</strong>: DuckDB optimized for analytical workloads</li>
<li><strong>Modern SQL</strong>: Cleaner syntax and better optimization</li>
<li><strong>Accessibility</strong>: Easier deployment and maintenance</li>
<li><strong>Integration</strong>: Better integration with modern data science tools</li>
</ul>
<h2 id="core-statistical-concepts">üìä Core Statistical Concepts<a class="headerlink" href="#core-statistical-concepts" title="Permanent link">&para;</a></h2>
<h3 id="evalid-evaluation-id">EVALID (Evaluation ID)<a class="headerlink" href="#evalid-evaluation-id" title="Permanent link">&para;</a></h3>
<p>The fundamental unit of FIA statistical analysis.</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">-- EVALID Structure: SSYYTT</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1">-- SS = State code (01-99)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">-- YY = Year (last 2 digits)</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">-- TT = Evaluation type (01=current, 02=periodic, 03=change, etc.)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">-- Examples:</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">-- 412101 = Oregon (41) 2021 (21) Current Volume (01)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1">-- 132303 = Georgia (13) 2023 (23) Change/GRM (03)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="c1">-- 452303 = South Carolina (45) 2023 (23) Change/GRM (03)</span>
</span></code></pre></div>
<p><strong>Critical Rule</strong>: Never mix EVALIDs in the same analysis - each represents a distinct statistical evaluation.</p>
<h3 id="population-strata-and-expansion">Population Strata and Expansion<a class="headerlink" href="#population-strata-and-expansion" title="Permanent link">&para;</a></h3>
<p>FIA uses stratified sampling with post-stratification for estimates.</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">-- Core Population Tables</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">POP_STRATUM</span><span class="w">              </span><span class="c1">-- Statistical strata definitions</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">POP_PLOT_STRATUM_ASSGN</span><span class="w">   </span><span class="c1">-- Links plots to strata</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">POP_EVAL</span><span class="w">                 </span><span class="c1">-- Evaluation metadata</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">POP_ESTN_UNIT</span><span class="w">           </span><span class="c1">-- Estimation units</span>
</span></code></pre></div>
<h3 id="adjustment-factors">Adjustment Factors<a class="headerlink" href="#adjustment-factors" title="Permanent link">&para;</a></h3>
<p>Trees are measured on different subplot sizes based on diameter:</p>
<ul>
<li><strong>MICR (Microplot)</strong>: Small trees (typically &lt; 5" DBH)</li>
<li><strong>SUBP (Subplot)</strong>: Medium trees (5" to breakpoint)</li>
<li><strong>MACR (Macroplot)</strong>: Large trees (&gt; breakpoint)</li>
</ul>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">-- Standard Adjustment Factor Logic</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">CASE</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MICR</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">COALESCE</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">),</span><span class="w"> </span><span class="mi">9999</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">        </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MACR</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">END</span>
</span></code></pre></div>
<h2 id="oracle-to-duckdb-translation">üîÑ Oracle to DuckDB Translation<a class="headerlink" href="#oracle-to-duckdb-translation" title="Permanent link">&para;</a></h2>
<h3 id="function-mapping">Function Mapping<a class="headerlink" href="#function-mapping" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Oracle Function</th>
<th>DuckDB Equivalent</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>LPAD(field, 5, '0')</code></td>
<td><code>printf('%05d', field)</code></td>
<td>Zero-padding numbers</td>
</tr>
<tr>
<td><code>NVL(field, default)</code></td>
<td><code>COALESCE(field, default)</code></td>
<td>NULL handling</td>
</tr>
<tr>
<td><code>DECODE(field, val1, result1, val2, result2, default)</code></td>
<td><code>CASE WHEN field = val1 THEN result1 WHEN field = val2 THEN result2 ELSE default END</code></td>
<td>Conditional logic</td>
</tr>
<tr>
<td><code>LEAST(a, b)</code></td>
<td><code>LEAST(a, b)</code></td>
<td>Same (both support)</td>
</tr>
<tr>
<td><code>||</code> (concatenation)</td>
<td><code>||</code> or <code>CONCAT()</code></td>
<td>String concatenation</td>
</tr>
</tbody>
</table>
<h3 id="data-type-considerations">Data Type Considerations<a class="headerlink" href="#data-type-considerations" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">-- Oracle: Implicit string to number conversion</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1">-- DuckDB: Explicit casting needed</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">COALESCE</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">),</span><span class="w"> </span><span class="mi">9999</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="string-formatting-differences">String Formatting Differences<a class="headerlink" href="#string-formatting-differences" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">-- Oracle EVALIDator Style (Complex)</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="s1">&#39;`&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">LPAD</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">SPGRPCD</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">NAME</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">-- DuckDB Simplified (Equivalent Results)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">SPGRPCD</span><span class="p">,</span><span class="w"> </span><span class="n">NAME</span><span class="w">  </span><span class="c1">-- Group by base fields, format in application layer</span>
</span></code></pre></div>
<h2 id="key-table-relationships">üîó Key Table Relationships<a class="headerlink" href="#key-table-relationships" title="Permanent link">&para;</a></h2>
<h3 id="core-inventory-tables">Core Inventory Tables<a class="headerlink" href="#core-inventory-tables" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">-- Standard FIA Join Pattern</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">FROM</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="w"> </span><span class="n">ps</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">POP_PLOT_STRATUM_ASSGN</span><span class="w"> </span><span class="n">ppsa</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">ppsa</span><span class="p">.</span><span class="n">STRATUM_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ps</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">PLOT</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">ppsa</span><span class="p">.</span><span class="n">PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">COND</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">PLT_CN</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">CONDID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">CONDID</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="reference-tables">Reference Tables<a class="headerlink" href="#reference-tables" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">-- Species Information</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">REF_SPECIES</span><span class="w"> </span><span class="n">rs</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">SPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="n">SPCD</span><span class="p">)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">REF_SPECIES_GROUP</span><span class="w"> </span><span class="n">rsg</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">SPGRPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rsg</span><span class="p">.</span><span class="n">SPGRPCD</span><span class="p">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1">-- Forest Type Information</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">REF_FOREST_TYPE</span><span class="w"> </span><span class="n">rft</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">FORTYPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rft</span><span class="p">.</span><span class="n">VALUE</span><span class="p">)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">REF_FOREST_TYPE_GROUP</span><span class="w"> </span><span class="n">rftg</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">rft</span><span class="p">.</span><span class="n">TYPGRPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rftg</span><span class="p">.</span><span class="n">VALUE</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="growth-removal-mortality-grm-tables">Growth, Removal, Mortality (GRM) Tables<a class="headerlink" href="#growth-removal-mortality-grm-tables" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">-- Complex GRM Joins (Most Challenging)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">-- Tree join with previous plot connection</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">JOIN</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">P</span><span class="p">.</span><span class="n">PREV_PLT_CN</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="o">*</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">PLOT</span><span class="w"> </span><span class="n">P</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">P</span><span class="p">.</span><span class="n">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">PLT_CN</span><span class="p">)</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="p">)</span><span class="w"> </span><span class="n">TREE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">((</span><span class="n">TREE</span><span class="p">.</span><span class="n">CONDID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">COND</span><span class="p">.</span><span class="n">CONDID</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">COND</span><span class="p">.</span><span class="n">PLT_CN</span><span class="p">))</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1">-- Previous measurement joins</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">PLOT</span><span class="w"> </span><span class="n">PPLOT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">PLOT</span><span class="p">.</span><span class="n">PREV_PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPLOT</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">COND</span><span class="w"> </span><span class="n">PCOND</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">((</span><span class="n">TREE</span><span class="p">.</span><span class="n">PREVCOND</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PCOND</span><span class="p">.</span><span class="n">CONDID</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">PREV_PLT_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PCOND</span><span class="p">.</span><span class="n">PLT_CN</span><span class="p">))</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE</span><span class="w"> </span><span class="n">PTREE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">PREV_TRE_CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PTREE</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1">-- GRM table joins</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE_GRM_BEGIN</span><span class="w"> </span><span class="n">TRE_BEGIN</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TRE_BEGIN</span><span class="p">.</span><span class="n">TRE_CN</span><span class="p">)</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE_GRM_MIDPT</span><span class="w"> </span><span class="n">TRE_MIDPT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TRE_MIDPT</span><span class="p">.</span><span class="n">TRE_CN</span><span class="p">)</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">TREE_GRM_COMPONENT</span><span class="w"> </span><span class="n">GRM</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GRM</span><span class="p">.</span><span class="n">TRE_CN</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="adjustment-factors-and-expansion">‚öñÔ∏è Adjustment Factors and Expansion<a class="headerlink" href="#adjustment-factors-and-expansion" title="Permanent link">&para;</a></h2>
<h3 id="standard-tree-expansion">Standard Tree Expansion<a class="headerlink" href="#standard-tree-expansion" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">-- Basic Tree Count/Volume Expansion</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="n">TREE</span><span class="p">.</span><span class="n">TPA_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="p">[</span><span class="n">ADJUSTMENT_FACTOR</span><span class="p">]</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">expanded_estimate</span>
</span></code></pre></div>
<h3 id="area-expansion">Area Expansion<a class="headerlink" href="#area-expansion" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">-- Condition/Area Expansion</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="n">COND</span><span class="p">.</span><span class="n">CONDPROP_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="k">CASE</span><span class="w"> </span><span class="n">COND</span><span class="p">.</span><span class="n">PROP_BASIS</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="s1">&#39;MACR&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MACR</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">expanded_area</span>
</span></code></pre></div>
<h3 id="grm-specific-expansion">GRM-Specific Expansion<a class="headerlink" href="#grm-specific-expansion" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">-- Mortality Expansion</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="n">GRM</span><span class="p">.</span><span class="n">TPAMORT_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="k">CASE</span><span class="w"> </span><span class="n">GRM</span><span class="p">.</span><span class="n">SUBPTYP_GRM</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MICR</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MACR</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">expanded_mortality</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="c1">-- Harvest Removal Expansion</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">    </span><span class="n">GRM</span><span class="p">.</span><span class="n">TPAREMV_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="p">[</span><span class="n">SAME_ADJUSTMENT_LOGIC</span><span class="p">]</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">    </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">expanded_removals</span>
</span></code></pre></div>
<h2 id="query-categories-and-patterns">üìÇ Query Categories and Patterns<a class="headerlink" href="#query-categories-and-patterns" title="Permanent link">&para;</a></h2>
<h3 id="1-basic-tree-counts">1. Basic Tree Counts<a class="headerlink" href="#1-basic-tree-counts" title="Permanent link">&para;</a></h3>
<p><strong>Pattern</strong>: Simple aggregation with standard adjustment factors
<div class="language-sql highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">-- Template</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">TPA_UNADJ</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ADJ_FACTOR</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">EXPNS</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_trees</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">STANDARD_JOINS</span><span class="p">]</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">STATUSCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">COND</span><span class="p">.</span><span class="n">COND_STATUS_CD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">EVALID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TARGET</span><span class="p">]</span>
</span></code></pre></div></p>
<h3 id="2-biomass-calculations">2. Biomass Calculations<a class="headerlink" href="#2-biomass-calculations" title="Permanent link">&para;</a></h3>
<p><strong>Pattern</strong>: Complex species-specific calculations
<div class="language-sql highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">-- Template</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="n">TPA_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="p">[</span><span class="n">COMPLEX_BIOMASS_CALCULATION</span><span class="p">]</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="n">ADJ_FACTOR</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="n">DRYBIO_AG</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2000</span><span class="w">  </span><span class="c1">-- Pounds to tons</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_biomass_tons</span>
</span></code></pre></div></p>
<h3 id="3-grm-analysis">3. GRM Analysis<a class="headerlink" href="#3-grm-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Pattern</strong>: Multi-table joins with previous measurements
<div class="language-sql highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">-- Template</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="n">GRM</span><span class="p">.[</span><span class="n">TPA_FIELD</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w">  </span><span class="c1">-- TPAMORT_UNADJ or TPAREMV_UNADJ</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="p">[</span><span class="n">GRM_ADJUSTMENT_FACTOR</span><span class="p">]</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="n">TRE_MIDPT</span><span class="p">.</span><span class="n">VOLCFNET</span><span class="w"> </span><span class="o">*</span><span class="w">  </span><span class="c1">-- Use midpoint volume</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="n">EXPNS</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">grm_estimate</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="n">COMPLEX_GRM_JOINS</span><span class="p">]</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">GRM</span><span class="p">.</span><span class="n">COMPONENT</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;[MORTALITY%|CUT%]&#39;</span>
</span></code></pre></div></p>
<h3 id="4-volume-analysis">4. Volume Analysis<a class="headerlink" href="#4-volume-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Pattern</strong>: Diameter-based analysis with timber filters
<div class="language-sql highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">-- Template</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="n">TPA_UNADJ</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="n">VOLCFNET</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="n">ADJ_FACTOR</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="n">EXPNS</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_volume</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">REF_SPECIES</span><span class="p">.</span><span class="n">WOODLAND</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;N&#39;</span>
</span></code></pre></div></p>
<h2 id="common-translation-challenges">üöß Common Translation Challenges<a class="headerlink" href="#common-translation-challenges" title="Permanent link">&para;</a></h2>
<h3 id="1-string-formatting-complexity">1. String Formatting Complexity<a class="headerlink" href="#1-string-formatting-complexity" title="Permanent link">&para;</a></h3>
<p><strong>Oracle Challenge</strong>: Complex LPAD and concatenation for grouping
<div class="language-sql highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">-- Oracle (Complex but exact)</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="s1">&#39;`&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">LPAD</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">SPGRPCD</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">NAME</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GRP1</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1">-- DuckDB Solution (Simplified, equivalent results)</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">SPGRPCD</span><span class="p">,</span><span class="w"> </span><span class="n">NAME</span><span class="w">  </span><span class="c1">-- Group by base fields</span>
</span></code></pre></div></p>
<h3 id="2-implicit-type-conversions">2. Implicit Type Conversions<a class="headerlink" href="#2-implicit-type-conversions" title="Permanent link">&para;</a></h3>
<p><strong>Oracle Challenge</strong>: Automatic string-to-number conversion
<div class="language-sql highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">-- Oracle (Works automatically)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="c1">-- DuckDB (Explicit casting required)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">COALESCE</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">),</span><span class="w"> </span><span class="mi">9999</span><span class="p">)</span>
</span></code></pre></div></p>
<h3 id="3-null-handling-differences">3. NULL Handling Differences<a class="headerlink" href="#3-null-handling-differences" title="Permanent link">&para;</a></h3>
<p><strong>Oracle Challenge</strong>: Different NULL behavior
<div class="language-sql highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">-- Oracle NVL</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">NVL</span><span class="p">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">default_value</span><span class="p">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c1">-- DuckDB COALESCE (standard SQL)</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="k">COALESCE</span><span class="p">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">default_value</span><span class="p">)</span>
</span></code></pre></div></p>
<h3 id="4-complex-nested-case-logic">4. Complex Nested CASE Logic<a class="headerlink" href="#4-complex-nested-case-logic" title="Permanent link">&para;</a></h3>
<p><strong>Oracle Challenge</strong>: Deeply nested diameter-based logic
<div class="language-sql highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">-- Oracle Pattern (Preserve exactly)</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">CASE</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">    </span><span class="k">ELSE</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">        </span><span class="k">CASE</span><span class="w"> </span><span class="n">LEAST</span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="p">)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">            </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MICR</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">            </span><span class="k">ELSE</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">                </span><span class="k">CASE</span><span class="w"> </span><span class="n">LEAST</span><span class="p">(</span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="p">,</span><span class="w"> </span><span class="k">COALESCE</span><span class="p">(</span><span class="k">CAST</span><span class="p">(</span><span class="n">PLOT</span><span class="p">.</span><span class="n">MACRO_BREAKPOINT_DIA</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">),</span><span class="w"> </span><span class="mi">9999</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span><span class="p">)</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">                    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">DIA</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_SUBP</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">                    </span><span class="k">ELSE</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">ADJ_FACTOR_MACR</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">                </span><span class="k">END</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">        </span><span class="k">END</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="k">END</span>
</span></code></pre></div></p>
<h2 id="validation-and-testing">‚úÖ Validation and Testing<a class="headerlink" href="#validation-and-testing" title="Permanent link">&para;</a></h2>
<h3 id="1-result-comparison">1. Result Comparison<a class="headerlink" href="#1-result-comparison" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">-- Always include expected results in comments</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="cm">/*</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="cm">Expected Results:</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="cm">- Oregon Total Trees: 10,481,113,490 (matches EVALIDator)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="cm">- Trees per Acre: 357.8</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="cm">- Forest Area: 29,292,380 acres</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="cm">*/</span>
</span></code></pre></div>
<h3 id="2-sample-size-validation">2. Sample Size Validation<a class="headerlink" href="#2-sample-size-validation" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">-- Include plot counts for validation</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="k">SELECT</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">CN</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">plot_count</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="k">SUM</span><span class="p">([</span><span class="n">MAIN_CALCULATION</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">estimate</span>
</span></code></pre></div>
<h3 id="3-cross-validation-techniques">3. Cross-Validation Techniques<a class="headerlink" href="#3-cross-validation-techniques" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">-- Compare simplified vs complex approaches</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">WITH</span><span class="w"> </span><span class="n">simplified</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">SPGRPCD</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">biomass</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">simple_total</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">...),</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">     </span><span class="n">complex</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">extract_spgrpcd</span><span class="p">(</span><span class="n">GRP1</span><span class="p">),</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">ESTIMATE</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">complex_total</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">...)</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">simplified</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">complex</span><span class="w"> </span><span class="k">c</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">SPGRPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">spgrpcd</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">ABS</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">simple_total</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">complex_total</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w">  </span><span class="c1">-- Flag differences</span>
</span></code></pre></div>
<h3 id="4-reasonableness-checks">4. Reasonableness Checks<a class="headerlink" href="#4-reasonableness-checks" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">-- Validate against known ranges</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">SELECT</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="n">estimate</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="n">estimate</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total_area</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">per_acre_rate</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="k">CASE</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">per_acre_rate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">REASONABLE_MAX</span><span class="p">]</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;SUSPECT HIGH&#39;</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">        </span><span class="k">WHEN</span><span class="w"> </span><span class="n">per_acre_rate</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">[</span><span class="n">REASONABLE_MIN</span><span class="p">]</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;SUSPECT LOW&#39;</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">        </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;REASONABLE&#39;</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_flag</span>
</span></code></pre></div>
<h2 id="best-practices">üéØ Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-maintain-statistical-integrity">1. Maintain Statistical Integrity<a class="headerlink" href="#1-maintain-statistical-integrity" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Never modify core EVALIDator logic</strong> without validation</li>
<li><strong>Preserve exact Oracle calculations</strong> for biomass and GRM</li>
<li><strong>Use proper adjustment factors</strong> for all estimates</li>
<li><strong>Apply expansion factors</strong> consistently</li>
</ul>
<h3 id="2-simplify-when-possible">2. Simplify When Possible<a class="headerlink" href="#2-simplify-when-possible" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Test simplified grouping approaches</strong> (e.g., direct SPGRPCD vs LPAD formatting)</li>
<li><strong>Validate simplified versions</strong> produce identical results</li>
<li><strong>Document equivalence</strong> between approaches</li>
<li><strong>Choose readability</strong> when accuracy is maintained</li>
</ul>
<h3 id="3-documentation-standards">3. Documentation Standards<a class="headerlink" href="#3-documentation-standards" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="cm">/*</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="cm">Query: [Purpose and Description]</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="cm">EVALID: [Evaluation ID]</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="cm">Expected Result: [Known validation result]</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="cm">Oracle Compatibility: [Exact translation / Simplified equivalent]</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="cm">Validation: [How results were verified]</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="cm">*/</span>
</span></code></pre></div>
<h3 id="4-error-handling">4. Error Handling<a class="headerlink" href="#4-error-handling" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">-- Include defensive programming</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">TPA_UNADJ</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">STATUSCD</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">POP_STRATUM</span><span class="p">.</span><span class="n">EXPNS</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="c1">-- Avoid division by zero</span>
</span></code></pre></div>
<h3 id="5-performance-optimization">5. Performance Optimization<a class="headerlink" href="#5-performance-optimization" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">-- Use appropriate indexes</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c1">-- Consider CTEs for complex logic</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1">-- Leverage DuckDB-specific optimizations</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1">-- Test with full datasets, not samples</span>
</span></code></pre></div>
<h2 id="advanced-topics">üîç Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link">&para;</a></h2>
<h3 id="special-species-mappings">Special Species Mappings<a class="headerlink" href="#special-species-mappings" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">-- Handle special cases (e.g., eastern redcedar state variations)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="n">REF_SPECIES_GROUP_TREE</span><span class="p">.</span><span class="n">SPGRPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CASE</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">STATECD</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">46</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">SPCD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">122</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">11</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="n">TREE</span><span class="p">.</span><span class="n">SPGRPCD</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="k">END</span>
</span></code></pre></div>
<h3 id="biomass-equation-complexity">Biomass Equation Complexity<a class="headerlink" href="#biomass-equation-complexity" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">-- Full species-specific biomass calculation</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">COALESCE</span><span class="p">(</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="p">(</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">REF_SPECIES</span><span class="p">.</span><span class="n">BARK_VOL_PCT</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">REF_SPECIES</span><span class="p">.</span><span class="n">BARK_VOL_PCT</span><span class="p">)))</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">        </span><span class="n">REF_SPECIES</span><span class="p">.</span><span class="n">WOOD_SPGR_GREENVOL_DRYWT</span><span class="w"> </span><span class="o">/</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">        </span><span class="p">[</span><span class="n">COMPLEX_DENOMINATOR</span><span class="p">]</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">REF_SPECIES</span><span class="p">.</span><span class="n">MC_PCT_GREEN_WOOD</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">        </span><span class="p">[</span><span class="n">BARK_CALCULATION</span><span class="p">]</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">    </span><span class="p">),</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">    </span><span class="mi">1</span><span class="p">.</span><span class="mi">76</span><span class="w">  </span><span class="c1">-- Default specific gravity</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="grm-component-logic">GRM Component Logic<a class="headerlink" href="#grm-component-logic" title="Permanent link">&para;</a></h3>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">-- Mortality vs Harvest component separation</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">CASE</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">GRM</span><span class="p">.</span><span class="n">COMPONENT</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;MORTALITY%&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">TRE_MIDPT</span><span class="p">.</span><span class="n">VOLCFNET</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="k">END</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1">-- vs</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="k">CASE</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">GRM</span><span class="p">.</span><span class="n">COMPONENT</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;CUT%&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">TRE_MIDPT</span><span class="p">.</span><span class="n">VOLCFNET</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="k">END</span>
</span></code></pre></div>
<h2 id="resources-and-references">üìö Resources and References<a class="headerlink" href="#resources-and-references" title="Permanent link">&para;</a></h2>
<h3 id="official-documentation">Official Documentation<a class="headerlink" href="#official-documentation" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>FIA Database Description</strong>: Latest field definitions and relationships</li>
<li><strong>EVALIDator User Guide</strong>: Official methodology documentation</li>
<li><strong>FIA Sampling Manual</strong>: Statistical framework and procedures</li>
</ul>
<h3 id="validation-sources">Validation Sources<a class="headerlink" href="#validation-sources" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Published FIA Reports</strong>: State-level forest statistics</li>
<li><strong>EVALIDator Web Interface</strong>: Direct result comparison</li>
<li><strong>Research Publications</strong>: Peer-reviewed methodology papers</li>
</ul>
<h3 id="technical-references">Technical References<a class="headerlink" href="#technical-references" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Oracle SQL Documentation</strong>: Original function behavior</li>
<li><strong>DuckDB Documentation</strong>: Modern SQL capabilities and optimizations</li>
<li><strong>Statistical Sampling Theory</strong>: Understanding FIA methodology</li>
</ul>
<hr />
<p>This guide provides the foundation for accurate EVALIDator translation while maintaining the statistical rigor required for official FIA analysis. Always validate results against known benchmarks and document any deviations from Oracle methodology.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "toc.follow", "search.suggest", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>