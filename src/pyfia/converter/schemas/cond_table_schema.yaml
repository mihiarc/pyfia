# FIA COND Table Schema Definition
# Complete schema for the COND table with all 153 columns
# This file defines the schema for condition-level measurements

version: "1.0"
description: "Complete schema definition for FIA COND table with all 153 columns"

COND:
  description: "Condition-level measurements - complete schema with all columns"
  columns:
    # Core identification columns (CN fields stored as VARCHAR due to large values)
    CN:
      type: "varchar(34)"
      nullable: false
      description: "Control number (stored as string for large values)"
    PLT_CN:
      type: "varchar(34)"
      nullable: false
      description: "Plot control number (stored as string for large values)"
      
    # Basic condition identification
    INVYR:
      type: "integer"
      nullable: false
      description: "Inventory year"
    STATECD:
      type: "smallint"
      nullable: false
      description: "State code"
    UNITCD:
      type: "integer"
      nullable: false
      description: "Unit code"
    COUNTYCD:
      type: "integer"
      nullable: false
      description: "County code"
    PLOT:
      type: "integer"
      nullable: false
      description: "Plot number"
    CONDID:
      type: "integer"
      nullable: false
      description: "Condition ID"
    COND_STATUS_CD:
      type: "integer"
      nullable: false
      description: "Condition status code"
    COND_NONSAMPLE_REASN_CD:
      type: "integer"
      nullable: true
      description: "Condition non-sample reason code"
      
    # Ownership and management
    RESERVCD:
      type: "integer"
      nullable: true
      description: "Reserved status code"
    OWNCD:
      type: "integer"
      nullable: true
      description: "Owner code"
    OWNGRPCD:
      type: "integer"
      nullable: true
      description: "Owner group code"
    ADFORCD:
      type: "integer"
      nullable: true
      description: "Administrative forest code"
      
    # Forest type and characteristics
    FORTYPCD:
      type: "integer"
      nullable: true
      description: "Forest type code"
    FLDTYPCD:
      type: "integer"
      nullable: true
      description: "Field forest type code"
    MAPDEN:
      type: "integer"
      nullable: true
      description: "Map density"
    STDAGE:
      type: "integer"
      nullable: true
      description: "Stand age"
    STDSZCD:
      type: "integer"
      nullable: true
      description: "Stand size code"
    FLDSZCD:
      type: "integer"
      nullable: true
      description: "Field stand size code"
    SITECLCD:
      type: "integer"
      nullable: true
      description: "Site class code"
    SICOND:
      type: "integer"
      nullable: true
      description: "Site index condition"
    SIBASE:
      type: "integer"
      nullable: true
      description: "Site index base"
    SISP:
      type: "integer"
      nullable: true
      description: "Site index species"
    STDORGCD:
      type: "integer"
      nullable: true
      description: "Stand origin code"
    STDORGSP:
      type: "decimal(8,4)"
      nullable: true
      description: "Stand origin species"
      
    # Proportion measurements
    PROP_BASIS:
      type: "varchar(12)"
      nullable: true
      description: "Proportion basis"
    CONDPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Condition proportion unadjusted"
    MICRPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Microplot proportion unadjusted"
    SUBPPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Subplot proportion unadjusted"
    MACRPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Macroplot proportion unadjusted"
      
    # Physical characteristics
    SLOPE:
      type: "integer"
      nullable: true
      description: "Slope"
    ASPECT:
      type: "integer"
      nullable: true
      description: "Aspect"
    PHYSCLCD:
      type: "integer"
      nullable: true
      description: "Physiographic class code"
    GSSTKCD:
      type: "integer"
      nullable: true
      description: "Growing stock stocking code"
    ALSTKCD:
      type: "integer"
      nullable: true
      description: "All live stocking code"
      
    # Disturbance information
    DSTRBCD1:
      type: "integer"
      nullable: true
      description: "Disturbance code 1"
    DSTRBYR1:
      type: "integer"
      nullable: true
      description: "Disturbance year 1"
    DSTRBCD2:
      type: "integer"
      nullable: true
      description: "Disturbance code 2"
    DSTRBYR2:
      type: "integer"
      nullable: true
      description: "Disturbance year 2"
    DSTRBCD3:
      type: "integer"
      nullable: true
      description: "Disturbance code 3"
    DSTRBYR3:
      type: "integer"
      nullable: true
      description: "Disturbance year 3"
      
    # Treatment information
    TRTCD1:
      type: "integer"
      nullable: true
      description: "Treatment code 1"
    TRTYR1:
      type: "integer"
      nullable: true
      description: "Treatment year 1"
    TRTCD2:
      type: "integer"
      nullable: true
      description: "Treatment code 2"
    TRTYR2:
      type: "integer"
      nullable: true
      description: "Treatment year 2"
    TRTCD3:
      type: "integer"
      nullable: true
      description: "Treatment code 3"
    TRTYR3:
      type: "integer"
      nullable: true
      description: "Treatment year 3"
      
    # Stand measurements
    PRESNFCD:
      type: "integer"
      nullable: true
      description: "Present non-forest code"
    BALIVE:
      type: "decimal(8,4)"
      nullable: true
      description: "Basal area of live trees"
    FLDAGE:
      type: "integer"
      nullable: true
      description: "Field age"
    ALSTK:
      type: "decimal(8,4)"
      nullable: true
      description: "All live stocking"
    GSSTK:
      type: "decimal(8,4)"
      nullable: true
      description: "Growing stock stocking"
    FORTYPCDCALC:
      type: "integer"
      nullable: true
      description: "Forest type code calculated"
      
    # Habitat type information
    HABTYPCD1:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 1"
    HABTYPCD1_PUB_CD:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 1 publication code"
    HABTYPCD1_DESCR_PUB_CD:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 1 description publication code"
    HABTYPCD2:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 2"
    HABTYPCD2_PUB_CD:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 2 publication code"
    HABTYPCD2_DESCR_PUB_CD:
      type: "varchar(10)"
      nullable: true
      description: "Habitat type code 2 description publication code"
    MIXEDCONFCD:
      type: "varchar(1)"
      nullable: true
      description: "Mixed conifer code"
      
    # Volume and site information
    VOL_LOC_GRP:
      type: "varchar(200)"
      nullable: true
      description: "Volume location group"
    SITECLCDEST:
      type: "integer"
      nullable: true
      description: "Site class code estimated"
    SITETREE_TREE:
      type: "integer"
      nullable: true
      description: "Site tree number"
    SITECL_METHOD:
      type: "integer"
      nullable: true
      description: "Site class method"
      
    # Carbon measurements
    CARBON_DOWN_DEAD:
      type: "decimal(10,3)"
      nullable: true
      description: "Carbon down dead"
    CARBON_LITTER:
      type: "decimal(10,3)"
      nullable: true
      description: "Carbon litter"
    CARBON_SOIL_ORG:
      type: "decimal(10,3)"
      nullable: true
      description: "Carbon soil organic"
    CARBON_UNDERSTORY_AG:
      type: "decimal(10,3)"
      nullable: true
      description: "Carbon understory aboveground"
    CARBON_UNDERSTORY_BG:
      type: "decimal(10,3)"
      nullable: true
      description: "Carbon understory belowground"
      
    # Date fields (stored as VARCHAR due to mixed formats)
    CREATED_DATE:
      type: "varchar(30)"
      nullable: true
      description: "Created date"
    MODIFIED_DATE:
      type: "varchar(30)"
      nullable: true
      description: "Modified date"
      
    # Cycle information
    CYCLE:
      type: "integer"
      nullable: true
      description: "Cycle number"
    SUBCYCLE:
      type: "integer"
      nullable: true
      description: "Subcycle number"
      
    # Pacific Northwest Regional (PNWRS) specific codes
    SOIL_ROOTING_DEPTH_PNW:
      type: "varchar(1)"
      nullable: true
      description: "Soil rooting depth PNW"
    GROUND_LAND_CLASS_PNW:
      type: "varchar(3)"
      nullable: true
      description: "Ground land class PNW"
    PLANT_STOCKABILITY_FACTOR_PNW:
      type: "decimal(8,4)"
      nullable: true
      description: "Plant stockability factor PNW"
    STND_COND_CD_PNWRS:
      type: "integer"
      nullable: true
      description: "Stand condition code PNWRS"
    STND_STRUC_CD_PNWRS:
      type: "integer"
      nullable: true
      description: "Stand structure code PNWRS"
    STUMP_CD_PNWRS:
      type: "varchar(1)"
      nullable: true
      description: "Stump code PNWRS"
      
    # Southern Regional (SRS) specific codes
    FIRE_SRS:
      type: "integer"
      nullable: true
      description: "Fire SRS"
    GRAZING_SRS:
      type: "integer"
      nullable: true
      description: "Grazing SRS"
    HARVEST_TYPE1_SRS:
      type: "integer"
      nullable: true
      description: "Harvest type 1 SRS"
    HARVEST_TYPE2_SRS:
      type: "integer"
      nullable: true
      description: "Harvest type 2 SRS"
    HARVEST_TYPE3_SRS:
      type: "integer"
      nullable: true
      description: "Harvest type 3 SRS"
    LAND_USE_SRS:
      type: "integer"
      nullable: true
      description: "Land use SRS"
    OPERABILITY_SRS:
      type: "integer"
      nullable: true
      description: "Operability SRS"
    STAND_STRUCTURE_SRS:
      type: "integer"
      nullable: true
      description: "Stand structure SRS"
      
    # National Forest specific codes
    NF_COND_STATUS_CD:
      type: "integer"
      nullable: true
      description: "National forest condition status code"
    NF_COND_NONSAMPLE_REASN_CD:
      type: "integer"
      nullable: true
      description: "National forest condition non-sample reason code"
      
    # Canopy cover information
    CANOPY_CVR_SAMPLE_METHOD_CD:
      type: "integer"
      nullable: true
      description: "Canopy cover sample method code"
    LIVE_CANOPY_CVR_PCT:
      type: "integer"
      nullable: true
      description: "Live canopy cover percent"
    LIVE_MISSING_CANOPY_CVR_PCT:
      type: "integer"
      nullable: true
      description: "Live missing canopy cover percent"
    NBR_LIVE_STEMS:
      type: "integer"
      nullable: true
      description: "Number of live stems"
      
    # Additional ownership and management codes
    OWNSUBCD:
      type: "integer"
      nullable: true
      description: "Owner subcategory code"
    INDUSTRIALCD_FIADB:
      type: "integer"
      nullable: true
      description: "Industrial code FIADB"
    RESERVCD_5:
      type: "integer"
      nullable: true
      description: "Reserved code 5"
    ADMIN_WITHDRAWN_CD:
      type: "integer"
      nullable: true
      description: "Administrative withdrawn code"
    CHAINING_CD:
      type: "integer"
      nullable: true
      description: "Chaining code"
    LAND_COVER_CLASS_CD_RET:
      type: "integer"
      nullable: true
      description: "Land cover class code RET"
    AFFORESTATION_CD:
      type: "integer"
      nullable: true
      description: "Afforestation code"
    PREV_AFFORESTATION_CD:
      type: "integer"
      nullable: true
      description: "Previous afforestation code"
      
    # Vegetation classification
    DWM_FUELBED_TYPCD:
      type: "varchar(3)"
      nullable: true
      description: "DWM fuelbed type code"
    NVCS_PRIMARY_CLASS:
      type: "varchar(8)"
      nullable: true
      description: "NVCS primary class"
    NVCS_LEVEL_1_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 1 code"
    NVCS_LEVEL_2_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 2 code"
    NVCS_LEVEL_3_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 3 code"
    NVCS_LEVEL_4_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 4 code"
    NVCS_LEVEL_5_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 5 code"
    NVCS_LEVEL_6_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 6 code"
    NVCS_LEVEL_7_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 7 code"
    NVCS_LEVEL_8_CD:
      type: "varchar(25)"
      nullable: true
      description: "NVCS level 8 code"
      
    # Additional regional codes
    AGE_BASIS_CD_PNWRS:
      type: "integer"
      nullable: true
      description: "Age basis code PNWRS"
    COND_STATUS_CHNG_CD_RMRS:
      type: "integer"
      nullable: true
      description: "Condition status change code RMRS"
    CRCOVPCT_RMRS:
      type: "integer"
      nullable: true
      description: "Crown cover percent RMRS"
    DOMINANT_SPECIES1_PNWRS:
      type: "integer"
      nullable: true
      description: "Dominant species 1 PNWRS"
    DOMINANT_SPECIES2_PNWRS:
      type: "integer"
      nullable: true
      description: "Dominant species 2 PNWRS"
    DOMINANT_SPECIES3_PNWRS:
      type: "integer"
      nullable: true
      description: "Dominant species 3 PNWRS"
      
    # P2A disturbance codes
    DSTRBCD1_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance code 1 P2A"
    DSTRBCD2_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance code 2 P2A"
    DSTRBCD3_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance code 3 P2A"
    DSTRBYR1_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance year 1 P2A"
    DSTRBYR2_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance year 2 P2A"
    DSTRBYR3_P2A:
      type: "integer"
      nullable: true
      description: "Disturbance year 3 P2A"
      
    # Additional field codes
    FLDTYPCD_30:
      type: "integer"
      nullable: true
      description: "Field type code 30"
    FOREST_COMMUNITY_PNWRS:
      type: "integer"
      nullable: true
      description: "Forest community PNWRS"
    LAND_USECD_RMRS:
      type: "integer"
      nullable: true
      description: "Land use code RMRS"
    MAICF:
      type: "decimal(8,4)"
      nullable: true
      description: "Mean annual increment cubic feet"
    PCTBARE_RMRS:
      type: "integer"
      nullable: true
      description: "Percent bare RMRS"
    QMD_RMRS:
      type: "decimal(8,4)"
      nullable: true
      description: "Quadratic mean diameter RMRS"
    RANGETYPCD_RMRS:
      type: "integer"
      nullable: true
      description: "Range type code RMRS"
    SDIMAX_RMRS:
      type: "integer"
      nullable: true
      description: "SDI maximum RMRS"
    SDIPCT_RMRS:
      type: "decimal(8,4)"
      nullable: true
      description: "SDI percent RMRS"
    SDI_RMRS:
      type: "decimal(8,4)"
      nullable: true
      description: "Stand density index RMRS"
    STAND_STRUCTURE_ME_NERS:
      type: "integer"
      nullable: true
      description: "Stand structure Maine NERS"
    TREES_PRESENT_NCRS:
      type: "integer"
      nullable: true
      description: "Trees present NCRS"
    TREES_PRESENT_NERS:
      type: "integer"
      nullable: true
      description: "Trees present NERS"
      
    # P2A treatment codes
    TRTCD1_P2A:
      type: "integer"
      nullable: true
      description: "Treatment code 1 P2A"
    TRTCD2_P2A:
      type: "integer"
      nullable: true
      description: "Treatment code 2 P2A"
    TRTCD3_P2A:
      type: "integer"
      nullable: true
      description: "Treatment code 3 P2A"
    TRTOPCD:
      type: "integer"
      nullable: true
      description: "Treatment option code"
    TRTYR1_P2A:
      type: "integer"
      nullable: true
      description: "Treatment year 1 P2A"
    TRTYR2_P2A:
      type: "integer"
      nullable: true
      description: "Treatment year 2 P2A"
    TRTYR3_P2A:
      type: "integer"
      nullable: true
      description: "Treatment year 3 P2A"
      
    # Land cover and site information
    LAND_COVER_CLASS_CD:
      type: "integer"
      nullable: true
      description: "Land cover class code"
    SIEQN_REF_CD:
      type: "varchar(10)"
      nullable: true
      description: "Site equation reference code"
    SICOND_FVS:
      type: "integer"
      nullable: true
      description: "Site condition FVS"
    SIBASE_FVS:
      type: "integer"
      nullable: true
      description: "Site base FVS"
    SISP_FVS:
      type: "integer"
      nullable: true
      description: "Site species FVS"
    SIEQN_REF_CD_FVS:
      type: "varchar(10)"
      nullable: true
      description: "Site equation reference code FVS"
      
    # Additional proportion measurements
    MQUADPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Microquadrat proportion unadjusted"
    SOILPROP_UNADJ:
      type: "decimal(8,6)"
      nullable: true
      description: "Soil proportion unadjusted"
    FOREST_COND_STATUS_CHANGE_CD:
      type: "integer"
      nullable: true
      description: "Forest condition status change code"

# Schema metadata
metadata:
  notes:
    - "Complete COND table schema with all 153 columns from FIA DataMart"
    - "CN fields use VARCHAR(34) to handle large numeric values that exceed BIGINT capacity"
    - "Date fields use VARCHAR due to mixed format data"
    - "Regional codes (PNWRS, SRS, NCRS, NERS, RMRS) are region-specific measurements"
    - "NVCS codes are National Vegetation Classification System codes"
    - "P2A codes relate to Phase 2A remeasurement data"
    - "All columns are nullable except core identification fields"
    - "Carbon measurements use DECIMAL(10,3) for precision"
    - "Proportion measurements use DECIMAL(8,6) for precision"
    - "Most integer codes use INTEGER type to accommodate the full range of FIA codes"
  regional_codes:
    - "PNWRS: Pacific Northwest Research Station"
    - "SRS: Southern Research Station"  
    - "NCRS: North Central Research Station"
    - "NERS: Northeastern Research Station"
    - "RMRS: Rocky Mountain Research Station"